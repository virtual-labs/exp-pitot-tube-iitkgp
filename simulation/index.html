<!-- Lab: Mine Automation and Virtual Reality
    Exp: Precise Traversing in a Duct using Pitot Tube
	 File name: index.html
   Author:Prakriti Dhang-->

<!DOCTYPE html>
<html>
<head>
	<!-- Add CSS at the head of HTML file -->
	<link rel="stylesheet" href="./css/bootstrap.min.css">
	<link rel="stylesheet"  href="./css/main.css">
	
	
	
	<style>
	  footer {
	text-align: center;
	padding: 3px;
	background-color: DarkSalmon;
	color: white;
   }
   /*.img-magnifier-container{
	 position: relative;
   }
   .img-magnifier-glass {
	 position: absolute;
	 border: 1px solid #000;
	 border-radius:70%;
	 z-index: 8;
	 cursor: none;
	 
	 /*Set the size of the magnifier glass:*/
	 /*width: 70px;
	 height:70px;
   }*/
   
  
  </style>
  
  </head>
  <body class="d-flex flex-column min-vh-100"  onload="pgload();">
	<header id="header">
	  <div class="container-fluid">
		
	  </div>
	</header>
	  
  <div class="container-fluid">
	  <div class=" d-flex justify-content-center p-2  text-white">
		  
		</div>
	 
  </div>
  
	<div >
  <div class="container-fluid">
	<div class="row">
	  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 poscol">
	  <div class="card border-primary rounded" style="height: 500px;">
		  <div class="card-body" >
			<h4 class="card-title">Machine set up</h4>
			<div class="img-container">
			  <img id ="ductimg" src="./images/duct_setup1.png" class="img-fluid" alt="ductsetup" data-toggle="tooltip" data-placement="left"  title="Duct Setup">
			<img id ="measurept" src="./images/measurepoints3.png" class="img-fluid" alt="inner view of duct" data-toggle="tooltip" data-placement="bottom"  title="Inner view of Duct">
			<img id ="pitot_tube" src="./images/pitot_tube.png" class=" img-fluid" alt="pitottube" data-toggle="tooltip" data-placement="top"  title="Pitot Tube">
			<img id ="connect1" src="./images/connect1.png" class="img-fluid" alt="connect1" >
			<img id ="connect2" src="./images/connect2.png" class="img-fluid" alt="connect2">
			<img id ="connect3" src="./images/connect3.png" class="img-fluid" alt="connect3">
			<img id ="pressurebox" src="./images/pressurebox.png" class="img-fluid" alt="pressurebox" >
			<canvas id="myCanvas" width="5" height="240" style="border:1px solid #0a0a0a;"></canvas>
			<img id ="scale" src="./images/scale_tube.png" class=" img-fluid" alt="scale" data-toggle="tooltip" data-placement="bottom"  title="Inclined Tube Manometer">
			<canvas id="r1" width="0" height="40" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr1" style="color: #fc0707; display:none;">r1</p>
			<canvas id="r2" width="0" height="60" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr2" style="color: #fc0707; display:none;">r2</p>
			<canvas id="r3" width="0" height="80" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr3" style="color: #fc0707; display:none;">r3</p>
			<canvas id="r4" width="0" height="100" style="border:1px solid #fc0707; display:none;"></canvas>
			<p id="tr4" style="color: #fc0707; display:none;">r4</p>
			<canvas id="r5" width="0" height="120" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr5" style="color: #fc0707; display:none;">r5</p>
			<canvas id="r6" width="0" height="140" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr6" style="color: #fc0707; display:none;">r6</p>
			<canvas id="r7" width="0" height="120" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr7" style="color: #fc0707; display:none;">r7</p>
			<canvas id="r8" width="0" height="100" style="border:1px solid #fc0707; display:none;"></canvas>
			<p id="tr8" style="color: #fc0707; display:none;">r8</p>
			<canvas id="r9" width="0" height="80" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr9" style="color: #fc0707; display:none;">r9</p>
			<canvas id="r10" width="0" height="60" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr10" style="color: #fc0707; display:none;">r10</p>
			<canvas id="r11" width="0" height="40" style="border:1px solid #fc0707; display:none;" ></canvas>
			<p id="tr11" style="color: #fc0707; display:none;">r11</p>
  
  
		   </div>
			
		   
		 
		   
		  </div>
		</div>
		<div class="row">
		  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			 <div id="graphd" class="card border-primary rounded" style="display:none;">
			   <div class="card-body"   >
				 <div class="card-title" style="text-align: center; font-weight: bold; font-size: large;">Graph Plot</div>
				 <button type="button" class="btn btn-primary  col-3 col-sm-4 col-xs-3 col-lg-3" onclick="showplot();">Plot Graph</button>
				 <button type="button" class="btn btn-warning  col-4 col-sm-4 col-xs-3 col-lg-3" onclick="showbestfitg();">Best Fit Graph</button>
				 <button type="button" class="btn btn-success  float-right col-3 col-sm-3 col-xs-3 col-lg-3" onclick="window.print()">Print</button>
  
				 <!--canvas id="myChart" class="col-xs-12 col-sm-12 col-md-12 col-lg-12"></canvas-->
				 <div id="myPlot9"  style="height:400px;"></div>
			   </div>
			 </div>
		  </div>
		</div>
	  </div>
	  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 ">
		<div class="card border-primary rounded">
		  <div class="card-body" >
			<h4 class="card-title">Control Elements</h4>
			<p class="card-text" style="font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif">Are you ready with the experiment?</p>
			  <button type="button" id="yesbtn" class="btn btn-primary col-md-3 col-sm-3 col-xs-3 col-lg-3"  data-toggle="modal" data-target="#rotatephone" >Yes</button>
			  <button type="button" id="nobtn" class="btn btn-warning col-md-3 col-sm-3 col-xs-3 col-lg-3" data-toggle="modal" data-target="#cancelexp" >No</button>
			  <button type="button" id="btninst9" class="btn btn-success float-right col-md-3 col-sm-3 col-xs-3 col-lg-3" data-toggle="collapse" data-target="#instdisp9" disabled>Instruction</button>
  </div></div>
			  <div id="instdisp9" class="collapse card border-primary rounded " > <!--style="display: none;"-->
				<div class="card-body" style="background-color:rgb(220, 253, 209);">
			  <h4 class="card-title">Instruction</h4>
			  <p>The following procedure is to be follwed by the user in order to Precise traversing in a duct Pitot tube:</p>
		   <ol type="1">
			<li> Enter the number of measuring points for the traversing. Press "Yes" button to start traversing using pitot tube. </li>
	  <li>Then press the button "1st Point" to measure the first point traversing.</li>
			<li>To add result to the observation table, press the button "add to the obeservation table" .</li>
  
  <li> After that measure the 2nd, 3rd, 4th, 5th point till the 11th point doing the same process.  </li> 
  <li>For every measure points, press the button "Add result to observation table" to add the results to the table.</li>
  <li>After all the points are measured Click on "Plot Graph" and then click on "Best Fit Graph"
  
	
		  
		  
		  
		  
		  
		   </ol>
				  </div>
				  </div> 
			  <div id="obsno" class="card border-primary rounded" style="display: none;" >
				<div class="card-body" >
				  
			<p class="card-text" style="font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif">How many observation do you want to take?</p>
			
			<div class="form-group">
			  <label for="inpob" class="col-sm-6 col-xs-6 col-md-6 col-lg-6" style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;" >Enter the number of measuring points along a radius (range is 5)</label>
			  <input type="number" class="form-control col-3 col-sm-4 col-xs-3 col-lg-3" id="inpob"  value="5" readonly>
			</div>
			<button type="button" id="obokbtn" class="btn btn-primary col-3 col-sm-4 col-xs-3 col-lg-3"  onclick="checkobn();" >Yes</button>
			</div>
		  </div>
			<div  id="measure" class=" card border-primary rounded" style="display: none;">
			  <div class="card-body" >
				<h4 class="card-title">Measuring Data Inputs <button type="button" id="msbtn" class="btn btn-primary
					col-xs-6 col-sm-6 col-md-6 col-lg-6" onclick="clckmes();" >Click to Measure for 1st Point</button></h4>
				
				<div class="form-group row">
				  
				  <label for="mpno" class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">Distance from the left wall of the Duct</label>
				  <input type="text" class="form-control col-xs-4 col-sm-4 col-md-4 col-lg-4" id="mpnod"   placeholder="Distance" >
				  <label for="vpkread" class="col-xs-6 col-sm-6 col-md-6 col-lg-6 " style=" font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">Velocity Pressure</label>
				  <input type="number" class="form-control col-xs-4 col-sm-4 col-md-4 col-lg-4" id="velpread" placeholder="Velocity Pressure">
				  <label for="avread" class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style=" font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;"> Velocity</label>
				  <input type="number" class="form-control col-xs-4 col-sm-4 col-md-4 col-lg-4" id="avgvread" placeholder="Velocity">
				</div>
				<button type="button" id="obbtn" class="btn btn-primary  col-xs-6 col-sm-6 col-md-6 col-lg-6" onclick="addresult();">Add Result to Observation Table</button>
				</div>
				</div>
				<div id="obvtable9" class="card border-primary rounded" style="display: none;">
				  <div class="card-body" >
				<h4 class="card-title">Observation Table</h4>
				
				<div class="table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl">
				<table class="table table-bordered table-hover" id="obtable9">
				  <thead>
					<tr class="table-primary">
					  <th>Ob No.</th>
					  <th>Distance</th>
					  <th>Velocity Pressure</th>
					  <th> Velocity</th>
					</tr>
				  </thead>
				  <tbody>
				   
				  </tbody>
				</table>
				
  
				</div>
			  </div>
			</div>
		  
		<!--/div>
  
  
	  </div-->
	  </div>
  </div>
  </div>
  </div> <!--container-wrapper ends-->
  
  <!-- modal for better view-->
  <div class="modal fade" id="rotatephone" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content" style="background-color: rgb(250, 255, 224);">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">For better view in mobile phone</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  Select auto-rotate OR
		  Select Desktop site 
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="showpanel();" >OK</button>
		</div>
	  </div>
	</div>
  </div>
  <!---->
  
  <!-- check no of obs-->
  <div class="modal fade" id="checkobsn" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content" style="background-color: rgb(250, 255, 224);">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">Alert</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  <div id="alertmsg"></div>
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="alertmsg();" >OK</button>
		</div>
	  </div>
	</div>
  </div>
  <!---->
  
  <!-- check table obs no -->
  <div class="modal fade" id="obtblnum" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content" style="background-color: rgb(250, 255, 224);">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">Alert</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  <div id="alertmsgob"></div>
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="alertmsgob();" >OK</button>
		</div>
	  </div>
	</div>
  </div>
  <!---->
  
  
  <!-- modal for change pressure-->
  
  <div class="modal fade" id="prschng" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content" style="background-color: rgb(250, 255, 224);">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">Pressure Changed</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  Pressure has been changed. Now click "click to measure".
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="preschngbtn();" >OK</button>
		</div>
	  </div>
	</div>
  </div>
  
  
  
  <!---->
  
  
  <!-- Cancel Experiment btn-->
  <div class="modal fade" id="cancelexp" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" >
	<div class="modal-dialog" role="document" >
	  <div class="modal-content" style="background-color: rgb(250, 255, 224);">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">Are you sure you want to exit?</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  Click "Yes" if you want to exit from the experiment. Click "No" if you want to proceed with the experiment.
		</div>
		<div class="modal-footer">
		   <button type="button" class="btn btn-warning col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="exitexp();">Yes</button>
		  <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3 col-lg-3" data-dismiss="modal" onclick="noexitexp();">No</button>
		</div>
	  </div>
	</div>
  </div>
  
  
  <!---->
  
  <!-- footer-->
  
  <footer class="mt-auto" style="background-color: rgb(168, 222, 253);">
	<p class="justify-content-center" style="color:black;">© 2022 Copyright, Indian Institute of Technology Kharagpur,
	  <a  style="color: rgb(50, 3, 180); text-decoration: underline;"> Virtual Lab </a></p>
  </footer>
  
  <!-- footer-->
  
  
  
  
  <script>
	
  $(document).ready(function(){
	$('[data-toggle="tooltip"]').tooltip();   
  });
  
  /* inclined tube initial reading */
  var c = document.getElementById("myCanvas");
	  var ctx = c.getContext("2d");
	  ctx.strokeStyle = 'red';
	  ctx.lineWidth = 5;
	  ctx.beginPath();
	  ctx.moveTo(2, 235);
	  ctx.lineTo(2, 240);
	  ctx.stroke();
  
	/* Initiate Magnify Function
	with the id of the image, and the strength of the magnifier glass:*/
	/*magnify("askimg", 3);*/
   
  
  
  </script>

<script src="./js/jquery.slim.min.js"></script>
<script src="./js/bootstrap.bundle.min.js"></script>
<script src="./js/popper.min.js"></script>
<script src="./js/modernizr-1.5.min.js"></script>
<!--script src="../js/jquery-1.7.1.min.js"></script-->
<!--script src="../js/Chart.js"></script-->
<script src="./js/Plotly.js"></script> <!--https://cdn.plot.ly/plotly-latest.min.js-->
<script src="./js/addinptotable9.js"></script>
<script src="./js/checkob9.js"></script>
<script src="./js/graphplotly9.js"></script>
<script src="./js/main.js"></script>
<script src="../assets/js/iframeResize.js"></script></body>
</html>
